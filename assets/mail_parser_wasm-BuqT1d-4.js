let y,k,x,A,R,U,oe=(async()=>{const W="/assets/mail_parser_wasm_bg-Cfyko0ws.wasm",z=async(e={},t)=>{let a;if(t.startsWith("data:")){const n=t.replace(/^data:.*?base64,/,"");let r;if(typeof Buffer=="function"&&typeof Buffer.from=="function")r=Buffer.from(n,"base64");else if(typeof atob=="function"){const u=atob(n);r=new Uint8Array(u.length);for(let i=0;i<u.length;i++)r[i]=u.charCodeAt(i)}else throw new Error("Cannot decode base64-encoded data URL");a=await WebAssembly.instantiate(r,e)}else{const n=await fetch(t),r=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&r.startsWith("application/wasm"))a=await WebAssembly.instantiateStreaming(n,e);else{const u=await n.arrayBuffer();a=await WebAssembly.instantiate(u,e)}}return a.instance.exports};let _;A=function(e){_=e};const B=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let T=new B("utf-8",{ignoreBOM:!0,fatal:!0});T.decode();let f=null;function d(){return(f===null||f.byteLength===0)&&(f=new Uint8Array(_.memory.buffer)),f}function g(e,t){return e=e>>>0,T.decode(d().subarray(e,e+t))}const l=new Array(128).fill(void 0);l.push(void 0,null,!0,!1);let b=l.length;function C(e){b===l.length&&l.push(l.length+1);const t=b;return b=l[t],l[t]=e,t}let m=null;function s(){return(m===null||m.byteLength===0)&&(m=new Int32Array(_.memory.buffer)),m}function E(e,t){return e=e>>>0,d().subarray(e/1,e/1+t)}let h=null;function O(){return(h===null||h.byteLength===0)&&(h=new Uint32Array(_.memory.buffer)),h}function F(e){return l[e]}function S(e){e<132||(l[e]=b,b=e)}function D(e){const t=F(e);return S(e),t}function I(e,t){e=e>>>0;const a=O().subarray(e/4,e/4+t),n=[];for(let r=0;r<a.length;r++)n.push(D(a[r]));return n}let v=0;const M=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let p=new M("utf-8");const q=typeof p.encodeInto=="function"?function(e,t){return p.encodeInto(e,t)}:function(e,t){const a=p.encode(e);return t.set(a),{read:e.length,written:a.length}};function P(e,t,a){if(a===void 0){const c=p.encode(e),w=t(c.length,1)>>>0;return d().subarray(w,w+c.length).set(c),v=c.length,w}let n=e.length,r=t(n,1)>>>0;const u=d();let i=0;for(;i<n;i++){const c=e.charCodeAt(i);if(c>127)break;u[r+i]=c}if(i!==n){i!==0&&(e=e.slice(i)),r=a(r,n,n=i+e.length*3,1)>>>0;const c=d().subarray(r+i,r+n),w=q(e,c);i+=w.written,r=a(r,n,i,1)>>>0}return v=i,r}U=function(e){const t=P(e,_.__wbindgen_malloc,_.__wbindgen_realloc),a=v,n=_.parse_message(t,a);return k.__wrap(n)};const j=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>_.__wbg_attachmentresult_free(e>>>0));y=class{static __wrap(e){e=e>>>0;const t=Object.create(y.prototype);return t.__wbg_ptr=e,j.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,j.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_attachmentresult_free(e)}get content_id(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_content_id(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get content_type(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_content_type(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get filename(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_filename(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get content(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_content(n,this.__wbg_ptr);var e=s()[n/4+0],t=s()[n/4+1],a=E(e,t).slice();return _.__wbindgen_free(e,t*1,1),a}finally{_.__wbindgen_add_to_stack_pointer(16)}}};const L=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>_.__wbg_messageresult_free(e>>>0));k=class{static __wrap(e){e=e>>>0;const t=Object.create(k.prototype);return t.__wbg_ptr=e,L.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_messageresult_free(e)}get sender(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_content_id(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get subject(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_content_type(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get body_html(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.attachmentresult_filename(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get text(){let e,t;try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.messageresult_text(r,this.__wbg_ptr);var a=s()[r/4+0],n=s()[r/4+1];return e=a,t=n,g(a,n)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get attachments(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.messageresult_attachments(n,this.__wbg_ptr);var e=s()[n/4+0],t=s()[n/4+1],a=I(e,t).slice();return _.__wbindgen_free(e,t*4,4),a}finally{_.__wbindgen_add_to_stack_pointer(16)}}},x=function(e){const t=y.__wrap(e);return C(t)},R=function(e,t){throw new Error(g(e,t))},URL=globalThis.URL;const o=await z({"./mail_parser_wasm_bg.js":{__wbg_attachmentresult_new:x,__wbindgen_throw:R}},W),G=o.memory,H=o.__wbg_attachmentresult_free,J=o.attachmentresult_content_id,K=o.attachmentresult_content_type,N=o.attachmentresult_filename,Q=o.attachmentresult_content,V=o.__wbg_messageresult_free,X=o.messageresult_text,Y=o.messageresult_attachments,Z=o.parse_message,$=o.messageresult_sender,ee=o.messageresult_subject,te=o.messageresult_body_html,ne=o.__wbindgen_add_to_stack_pointer,_e=o.__wbindgen_free,re=o.__wbindgen_malloc,ae=o.__wbindgen_realloc,se=Object.freeze(Object.defineProperty({__proto__:null,__wbg_attachmentresult_free:H,__wbg_messageresult_free:V,__wbindgen_add_to_stack_pointer:ne,__wbindgen_free:_e,__wbindgen_malloc:re,__wbindgen_realloc:ae,attachmentresult_content:Q,attachmentresult_content_id:J,attachmentresult_content_type:K,attachmentresult_filename:N,memory:G,messageresult_attachments:Y,messageresult_body_html:te,messageresult_sender:$,messageresult_subject:ee,messageresult_text:X,parse_message:Z},Symbol.toStringTag,{value:"Module"}));A(se)})();export{y as AttachmentResult,k as MessageResult,oe as __tla,x as __wbg_attachmentresult_new,A as __wbg_set_wasm,R as __wbindgen_throw,U as parse_message};
